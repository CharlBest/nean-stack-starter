<!-- Main nav -->
<ng-container *ngIf="navigationTypes.Primary == activeNavigation">

  <mat-toolbar color="primary">
    <!-- Left -->
    <a mat-button
      routerLink="/">
      <img class="logo"
        src="assets/logo.svg"
        alt="logo">
    </a>
    <ng-container *ngTemplateOutlet="navLinks"></ng-container>

    <span class="spacer"></span>

    <!-- Right -->
    <a mat-button
      (click)="openPaymentDialog()">
      <mat-icon>credit_card</mat-icon>
      <span *ngIf="isWeb">&nbsp;Donate</span>
    </a>

    <a mat-button
      href="https://github.com/CharlBest/nean-stack-starter"
      target="_blank">
      <img src="assets/github-logo.svg"
        alt="github logo">
      <span *ngIf="isWeb">&nbsp;GitHub</span>
    </a>

    <!-- TODO: [appTutorial]="tutorialTypeEnum.ContextMenu" -->
    <button mat-icon-button
      [matMenuTriggerFor]="menu">
      <mat-icon>more_vert</mat-icon>
    </button>
  </mat-toolbar>

  <!-- <mat-toolbar color="primary">
    <ng-container *ngTemplateOutlet="navLinks"></ng-container>
  </mat-toolbar> -->

  <mat-menu #menu="matMenu">
    <button mat-menu-item
      routerLink="/settings">Settings</button>
    <button mat-menu-item
      routerLink="/feedback">Feedback</button>
    <button mat-menu-item
      routerLink="/newsletter">Newsletter</button>
    <button mat-menu-item
      routerLink="/legal/help">Help</button>
    <button mat-menu-item
      (click)="takeTour()">Take tour</button>
    <button mat-menu-item
      *ngIf="loggedInUserId"
      (click)="logout()">Logout</button>
  </mat-menu>
</ng-container>

<!-- Back nav -->
<ng-container *ngIf="navigationTypes.Back == activeNavigation">

  <mat-toolbar class="back-toolbar">
    <button mat-icon-button
      (click)="back()">
      <mat-icon>arrow_back</mat-icon>
    </button>

    <span>{{navigationBackTitle}}</span>
  </mat-toolbar>

</ng-container>

<!-- Nav links -->
<ng-template #navLinks>
  <a mat-button
    routerLink="/">
    <mat-icon *ngIf="isWeb">home</mat-icon>
    <span>&nbsp;Home</span>
  </a>

  <a mat-button
    *ngIf="!loggedInUserId"
    routerLink="/login">
    <mat-icon *ngIf="isWeb">lock</mat-icon>
    <span>&nbsp;Login</span>
  </a>

  <a mat-button
    *ngIf="loggedInUserId"
    routerLink="/profile">
    <mat-icon *ngIf="isWeb">account_circle</mat-icon>
    <span>&nbsp;Profile</span>
  </a>
</ng-template>